zigzag.cpp: First try. The runtime and memory performance is bad.
